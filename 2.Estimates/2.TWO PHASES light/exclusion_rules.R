## ----setup, include=FALSE----------------------------------------------------------------------
knitr::opts_chunk$set(echo = TRUE)
library(data.table)


## ----------------------------------------------------------------------------------------------
s1 <- fread("D:/Google Drive/LUCAS 2025/2.DATA/LUCAS22_corrected_complete.csv")
nrow(s1)


## ----------------------------------------------------------------------------------------------
s2 <- s1
s2$SURVEY_LC1 <- ifelse(nchar(as.character(s2$SURVEY_LC1)) == 2,
                           paste0(s2$SURVEY_LC1,"X"),s2$SURVEY_LC1)
s2$SURVEY_LC1 <- ifelse(nchar(as.character(s2$SURVEY_LC1)) == 1,
                           paste0(s2$SURVEY_LC1,"XX"),s2$SURVEY_LC1)
table(s2$SURVEY_LC1)


## ----------------------------------------------------------------------------------------------
s2$elim <- grepl("X",s2$SURVEY_LC1)
s2$elim <- ifelse(substr(s2$SURVEY_LC1,1,1)=="B",FALSE,s2$elim)
table(s2$elim)


## ----------------------------------------------------------------------------------------------
s2 <- s2[s2$elim == FALSE,]
nrow(s2)


## ----------------------------------------------------------------------------------------------
s3 <- s2[!s2$SURVEY_LC1 %in% c("A00",
                               "A10","A20",
                               "B00","B10","B20","B30","B40","B50","B60","B70","B80",
                               "C00",
                               "C20",
                               "D00",
                               "E00",
                               "F00",
                               "G00",
                               "G10","G20",
                               "H00","H10","H20","H30"),]
s3 <- s3[!s3$SURVEY_LU1 %in% c("8","U100","U110",
                               "U200","U220",
                               "U300","U310","U320","U360",
                               "U400"),]
nrow(s3)


## ----------------------------------------------------------------------------------------------
table(s3$SURVEY_LC1)

## ----------------------------------------------------------------------------------------------
table(s3$SURVEY_LU1)


## ----------------------------------------------------------------------------------------------
s4 <- s1[!s1$POINT_ID %in% s3$POINT_ID,]
table(s4$SURVEY_LC1)


## ----------------------------------------------------------------------------------------------
table(s4$SURVEY_LU1)

